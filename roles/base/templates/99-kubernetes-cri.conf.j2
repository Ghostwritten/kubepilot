# roles/base/templates/99-kubernetes-cri.conf.j2
# Kubernetes CRI and networking kernel parameters
# Generated by Ansible - Do not edit manually

{% for key, value in kernel_params.items() %}
{{ key }}={{ value }}
{% endfor %}

# Additional kernel parameters for container runtime
net.core.somaxconn=32768
net.core.netdev_max_backlog=16384
net.ipv4.tcp_max_syn_backlog=8096
net.ipv4.neigh.default.gc_thresh1=4096
net.ipv4.neigh.default.gc_thresh2=6144
net.ipv4.neigh.default.gc_thresh3=8192
net.ipv6.neigh.default.gc_thresh1=4096
net.ipv6.neigh.default.gc_thresh2=6144
net.ipv6.neigh.default.gc_thresh3=8192

# Memory and filesystem parameters
vm.overcommit_memory=1
vm.panic_on_oom=0
kernel.panic=10
kernel.panic_on_oops=1
